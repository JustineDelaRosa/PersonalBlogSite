<% layout('./layouts/boilerplate') %>
<!-- design a journal -->
<div class="container">
    <div class="row">
        <div class="col my-4 text-start">
            <h1>Home</h1>
        </div>
        <div class="col my-4 text-end">
            <h1>
                <a href="/compose"><button class="btn btn-primary"><i class="fa-solid fa-plus"></i>
                        Compose</button></a></h1>
        </div>
    </div>
</div>
<div class="container-md">
    <div class="flex mt-10 ">

        <% if(posts.length > 0){ %>
        <% for(let dailypost of posts) { %>
        <div class="flex">
            <div class="block">
                <div class="card my-3">
                    <div class="card-body">
                        <div class="p-6 my-4">
                            <h1 class=" text-start fw-bold ">
                                <%= dailypost.title %></h1>
                            <p class="home-content fs-5">
                                <%= dailypost.content.substring(0, 100) + '...' %>
                                <a href="/posts/<%= dailypost._id %>" class="text-decoration-none fw-semibold">Read
                                    More <i class="fa-solid fa-arrow-right-long"></i></a>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <% } %>
        <% }else{ %>
        <div class="card border border-success rounded-1">
            <div class="card-body bg-primary-subtle rounded-1">
                No posts yet :(
            </div>
        </div>
        <% } %>
    </div>
</div>


<div class="toast-container position-fixed bottom-0 end-0 p-3">
    <div id="liveToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
        <div class="toast-header">
            <strong class="me-auto toast-title"></strong>
            <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
        <div class="toast-body">
        </div>
    </div>
</div>